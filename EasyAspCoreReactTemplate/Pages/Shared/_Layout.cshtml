<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>@ViewData["Title"] - EasyAspCoreReactTemplate</title>
    <script type="importmap"></script>
    <link rel="stylesheet" vite-href="~/tailwind.config.css" />
    <link rel="stylesheet" href="~/EasyAspCoreReactTemplate.styles.css" asp-append-version="true" />
    <script>
      // Apply theme immediately to prevent flash
      const savedTheme = localStorage.getItem("theme");
      const prefersDark = window.matchMedia(
        "(prefers-color-scheme: dark)",
      ).matches;
      const theme = savedTheme || (prefersDark ? "dark" : "light");

      if (theme === "dark") {
        document.documentElement.classList.add("dark");
        document.documentElement.style.colorScheme = "dark";
      } else {
        document.documentElement.classList.remove("dark");
        document.documentElement.style.colorScheme = "light";
      }
    </script>
</head>
<body>
<header class="sticky top-0 z-40 border-b border-slate-200/60 dark:border-slate-800/40 bg-white/40 dark:bg-slate-950/40 backdrop-blur-2xl">
    <nav class="mx-auto flex w-full max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8 py-4">
        <div class="flex items-center gap-3">
            <div class="relative">
                <div class="absolute inset-0 bg-gradient-to-r from-sky-400 to-sky-600 rounded-xl blur opacity-75 group-hover:opacity-100 transition duration-300 w-9 h-9"></div>
                <div class="relative inline-flex h-9 w-9 items-center justify-center rounded-xl bg-gradient-to-br from-sky-500 to-sky-700 text-white font-bold text-sm shadow-lg">
                    VC
                </div>
            </div>
            <div>
                <a class="text-lg font-bold tracking-tight text-slate-900 dark:text-white" asp-area="" asp-page="/Index">Vibe Core</a>
                <p class="text-xs text-slate-500 dark:text-slate-400 font-medium">Modern Stack</p>
            </div>
        </div>
        <div class="flex items-center gap-8 text-sm text-slate-600 dark:text-slate-300">
            <a class="transition hover:text-slate-900 dark:hover:text-white" asp-area="" asp-page="/Index">Home</a>
            <a class="transition hover:text-slate-900 dark:hover:text-white" asp-area="" asp-page="/Privacy">Privacy</a>
            <partial name="_LoginPartial" />
        </div>
    </nav>
</header>
<main role="main" class="mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8 py-10">
    @RenderBody()
</main>

<footer class="border-t border-slate-200/60 dark:border-slate-800/40 bg-white/30 dark:bg-slate-900/30 py-8 text-sm text-slate-600 dark:text-slate-400">
    <div class="mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col sm:flex-row items-center justify-between gap-6">
            <p>&copy; 2026 - Vibe Core - <a class="hover:text-slate-900 dark:hover:text-slate-100" asp-area="" asp-page="/Privacy">Privacy</a></p>
            @* Theme Toggle Button *@
            <button
              id="theme-toggle-btn"
              class="theme-toggle relative inline-flex h-11 w-11 items-center justify-center rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900 border border-slate-300/60 dark:border-slate-700/60 text-slate-700 dark:text-amber-300 hover:from-slate-200 hover:to-slate-300 dark:hover:from-slate-700 dark:hover:to-slate-800 transition-all duration-300 hover:shadow-lg dark:hover:shadow-xl hover:-translate-y-0.5"
              aria-label="Toggle theme"
            >
              <div class="relative w-6 h-6">
                <svg id="theme-moon" class="absolute h-6 w-6 opacity-100 rotate-0 scale-100 transition-all duration-300" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
                </svg>
                <svg id="theme-sun" class="absolute h-6 w-6 opacity-0 rotate-45 scale-0 transition-all duration-300" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.536l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.707.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zm5.657-9.193a1 1 0 00-1.414 0l-.707.707A1 1 0 005.05 6.464l.707-.707a1 1 0 011.414-1.414zM3 11a1 1 0 100-2H2a1 1 0 100 2h1z" clip-rule="evenodd" />
                </svg>
              </div>
            </button>
        </div>
    </div>
</footer>

<script>
  // Theme toggle functionality for Razor pages
  const themeToggleBtn = document.getElementById('theme-toggle-btn');
  const themeMoon = document.getElementById('theme-moon');
  const themeSun = document.getElementById('theme-sun');

  function updateThemeUI() {
    const isDark = document.documentElement.classList.contains('dark');
    if (isDark) {
      themeMoon.classList.remove('opacity-100', 'rotate-0', 'scale-100');
      themeMoon.classList.add('opacity-0', 'rotate-45', 'scale-0');
      themeSun.classList.remove('opacity-0', 'rotate-45', 'scale-0');
      themeSun.classList.add('opacity-100', 'rotate-0', 'scale-100');
    } else {
      themeMoon.classList.remove('opacity-0', 'rotate-45', 'scale-0');
      themeMoon.classList.add('opacity-100', 'rotate-0', 'scale-100');
      themeSun.classList.remove('opacity-100', 'rotate-0', 'scale-100');
      themeSun.classList.add('opacity-0', 'rotate-45', 'scale-0');
    }
  }

  if (themeToggleBtn) {
    themeToggleBtn.addEventListener('click', function() {
      const html = document.documentElement;
      const isDark = html.classList.contains('dark');
      const newTheme = isDark ? 'light' : 'dark';
      
      localStorage.setItem('theme', newTheme);
      if (newTheme === 'dark') {
        html.classList.add('dark');
        html.style.colorScheme = 'dark';
      } else {
        html.classList.remove('dark');
        html.style.colorScheme = 'light';
      }
      
      updateThemeUI();
    });
    
    // Update UI on page load
    updateThemeUI();
  }
</script>

@await RenderSectionAsync("Scripts", required: false)
</body>
</html>